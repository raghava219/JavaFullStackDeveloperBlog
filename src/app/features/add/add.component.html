<div class="container">
  <div class="add-article-form">
    <h1 class="page-title">Add New Article</h1>

    <div *ngIf="submitError" class="error-message">
      {{ submitError }}
    </div>

    <form (ngSubmit)="onSubmit()" #articleForm="ngForm">
      <div class="form-group">
        <label for="title">Title *</label>
        <input type="text" id="title" name="title" [(ngModel)]="article.title" required class="form-control"
          placeholder="Enter article title" [disabled]="isSubmitting" />
      </div>

      <div class="form-group">
        <label for="url">URL *</label>
        <input type="url" id="url" name="url" [(ngModel)]="article.URL" required class="form-control"
          placeholder="Enter article URL" [disabled]="isSubmitting" />
      </div>

      <div class="form-group">
        <label for="author">Author *</label>
        <input type="text" id="author" name="author" [(ngModel)]="article.author" required class="form-control"
          placeholder="Enter author name" [disabled]="isSubmitting" />
      </div>

      <div class="form-group">
        <label for="excerpt">Excerpt *</label>
        <textarea id="excerpt" name="excerpt" [(ngModel)]="article.excerpt" required class="form-control" rows="3"
          placeholder="Enter a brief excerpt" [disabled]="isSubmitting"></textarea>
      </div>

      <div class="form-group">
        <label for="content">Content *</label>
        <textarea id="content" name="content" [(ngModel)]="article.content" required class="form-control" rows="10"
          placeholder="Enter article content" [disabled]="isSubmitting"></textarea>
      </div>


      <div class="form-group">
        <label>File Upload</label>
        <input type="file" id="file" name="file" (change)="onFileSelected($event)" class="form-control"
          [disabled]="isSubmitting" accept="*/*" />
        <small class="form-text" *ngIf="selectedFile">Selected: {{ selectedFile.name }}</small>
      </div>




      <div class="form-group">
        <label>Categories *</label>
        <select [(ngModel)]="article.category" name="category" class="form-control">
          <option value="">--Please choose an option--</option>
          <option value="AI Tool">AI Tool</option>
          <option value="IT">IT</option>
          <option value="Management">Management</option>
          <option value="Healthcare">Healthcare</option>
        </select>
      </div>



      <div class="form-group">
        <label>Tags *</label>
        <div class="input-with-button">
          <input type="text" [(ngModel)]="tagInput" name="tagInput" class="form-control" placeholder="Add a tag"
            (keyup.enter)="addTag()" [disabled]="isSubmitting" />
          <button type="button" (click)="addTag()" class="btn btn-secondary" [disabled]="isSubmitting">Add</button>
        </div>
        <div class="tags-display" *ngIf="article.tags && article.tags.length > 0">
          <span *ngFor="let tag of article.tags" class="tag">
            {{ tag }}
            <button type="button" (click)="removeTag(tag)" class="tag-remove" [disabled]="isSubmitting">Ã—</button>
          </span>
        </div>
      </div>




      <div class="form-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="article.featured" name="featured" [disabled]="isSubmitting" />
          Featured Article
        </label>
      </div>

      <div class="form-actions">
        <button type="button" (click)="onCancel()" class="btn btn-secondary" [disabled]="isSubmitting">Cancel</button>
        <button type="submit" [disabled]="!isFormValid() || isSubmitting" class="btn btn-primary">
          {{ isSubmitting ? 'Adding...' : 'Add Article' }}
        </button>
      </div>
    </form>
  </div>
</div>