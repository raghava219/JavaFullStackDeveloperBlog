import{b as V,c as E,d as I,e as N,f as F,g as W,h as T,i as A}from"./chunk-SOLGAOLQ.js";import{a as k}from"./chunk-CN7ARJOB.js";import{Aa as x,Na as S,Q as C,Qa as O,Ua as L,W as m,X as g,da as s,ea as p,ia as w,ka as l,ma as r,na as n,pa as y,qa as v,ra as P,sa as d,ua as u,wa as f,xa as b,ya as h}from"./chunk-4K6JBKNM.js";import{f as _}from"./chunk-PZ5UXJ7I.js";function q(i,z){if(i&1&&(r(0,"div",13),d(1),n()),i&2){let o=P();s(),u(" ",o.errorMessage," ")}}var J=(()=>{class i{constructor(o,t){this.authService=o,this.router=t,this.email="",this.password="",this.isLoading=!1,this.errorMessage=""}onSubmit(){return _(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Please fill in all fields";return}this.isLoading=!0,this.errorMessage="";try{this.authService.signIn(this.email,this.password).subscribe({next:({user:o,error:t})=>{t?this.errorMessage=t.message||"Authentication failed":o&&this.router.navigate(["/add"]),this.isLoading=!1},error:o=>{this.errorMessage="An unexpected error occurred",this.isLoading=!1}})}catch{this.errorMessage="Verification failed. Please try again.",this.isLoading=!1}})}static{this.\u0275fac=function(t){return new(t||i)(p(k),p(L))}}static{this.\u0275cmp=C({type:i,selectors:[["app-login"]],standalone:!0,features:[x],decls:18,vars:7,consts:[["loginForm","ngForm"],[1,"container"],[1,"login-form"],[1,"page-title"],["class","error-message",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","submit",1,"btn","btn-primary","btn-full",3,"disabled"],[1,"error-message"]],template:function(t,e){if(t&1){let c=y();r(0,"div",1)(1,"div",2)(2,"h1",3),d(3,"Sign In"),n(),w(4,q,2,1,"div",4),r(5,"form",5,0),v("ngSubmit",function(){return m(c),g(e.onSubmit())}),r(7,"div",6)(8,"label",7),d(9,"Email *"),n(),r(10,"input",8),h("ngModelChange",function(a){return m(c),b(e.email,a)||(e.email=a),g(a)}),n()(),r(11,"div",6)(12,"label",9),d(13,"Password *"),n(),r(14,"input",10),h("ngModelChange",function(a){return m(c),b(e.password,a)||(e.password=a),g(a)}),n()(),r(15,"div",11)(16,"button",12),d(17),n()()()()()}t&2&&(s(4),l("ngIf",e.errorMessage),s(6),f("ngModel",e.email),l("disabled",e.isLoading),s(4),f("ngModel",e.password),l("disabled",e.isLoading),s(2),l("disabled",!e.email||!e.password||e.isLoading),s(),u(" ",e.isLoading?"Please wait...":"Sign In"," "))},dependencies:[O,S,A,W,V,E,I,T,F,N],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;background:var(--surface-color);padding:2rem;border-radius:.5rem;box-shadow:0 1px 3px #0000001a}.page-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:2rem;color:var(--text-color);text-align:center}.error-message[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626;padding:1rem;border-radius:.375rem;margin-bottom:1.5rem;border:1px solid #fecaca;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--border-color);border-radius:.375rem;background:var(--background-color);color:var(--text-color);font-size:1rem;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #2563eb1a}.form-control[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:.375rem;border:none;font-weight:500;cursor:pointer;transition:opacity .2s,transform .1s;text-decoration:none;display:inline-block;text-align:center}.btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9;transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-full[_ngcontent-%COMP%]{width:100%}.toggle-mode[_ngcontent-%COMP%]{margin-top:2rem;text-align:center;padding-top:1rem;border-top:1px solid var(--border-color)}.toggle-mode[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:var(--primary-color);cursor:pointer;text-decoration:underline;font-size:inherit;margin-left:.5rem}.link-button[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.8}.link-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.login-form[_ngcontent-%COMP%]{margin:1rem;padding:1.5rem}}"]})}}return i})();export{J as LoginComponent};
